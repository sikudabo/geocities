{"ast":null,"code":"import _slicedToArray from\"c:/Users/bobma/Downloads/excite-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{useHistory,useParams}from'react-router-dom';import swal from'sweetalert';import Grid from'@material-ui/core/Grid';import Paper from'@material-ui/core/Paper';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemAvatar from'@material-ui/core/ListItemAvatar';import Avatar from'@material-ui/core/Avatar';import ListItemText from'@material-ui/core/ListItemText';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import{connect}from'react-redux';import Backdrop from'@material-ui/core/Backdrop';import CircularProgress from'@material-ui/core/CircularProgress';import axios from'axios';var useStyles=makeStyles(function(){return{root:{marginTop:100},list:{maxWidth:450,margin:'auto'}};});function GeouserFollowers(props){var classes=useStyles();var history=useHistory();var params=useParams();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),geoUser=_useState2[0],setGeoUser=_useState2[1];useEffect(function(){if(props.mainUser===null){swal('Uh Oh!','You must be logged in to view this users\\' followers!','error');history.push('/');}else{return axios({method:'GET',url:\"http://192.168.0.9:3001/api/get/geo/followers/\".concat(params.uniqueUserId)}).then(function(response){if(response.data.geoUser){setGeoUser(response.data.geoUser);props.dispatch({type:'ThemeChange',payload:props.mainUser.profileTheme});}else{swal('Uh Oh!','Could not find any followers for that user!','error');history.goBack(1);}}).catch(function(err){console.log(err.message);swal('Uh Oh!','There was an error finding the followers for that user!','error');history.goBack(1);});}});if(geoUser!==null&&props.mainUser!==null){return/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.root,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",component:\"h6\",align:\"center\",style:{marginBottom:20},children:[\"Followers of \",geoUser.username]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(List,{className:classes.list,children:geoUser.followers.map(function(user,index){return/*#__PURE__*/_jsx(Paper,{elevation:3,style:{marginBottom:20},children:/*#__PURE__*/_jsxs(ListItem,{alignItems:\"flex-start\",style:{cursor:'pointer'},onClick:function onClick(e){return history.push(\"/geouser/\".concat(user.uniqueUserId));},children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{src:\"http://192.168.0.9:3001/api/get/avatar/by/id/\".concat(user.uniqueUserId),alt:\"\".concat(user.username),title:\"\".concat(user.username)})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h6\",children:user.username})})]})},index);})})})]});}else{return/*#__PURE__*/_jsx(Backdrop,{open:true,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"})});}}function mapStateToProps(state){return{mainUser:state.userReducer.user,primary:state.userThemeReducer.primary};}export default connect(mapStateToProps)(GeouserFollowers);","map":{"version":3,"sources":["c:/Users/bobma/Downloads/excite-app/src/components/GeouserFollowers.js"],"names":["React","useEffect","useState","useHistory","useParams","swal","Grid","Paper","List","ListItem","ListItemAvatar","Avatar","ListItemText","Typography","makeStyles","connect","Backdrop","CircularProgress","axios","useStyles","root","marginTop","list","maxWidth","margin","GeouserFollowers","props","classes","history","params","geoUser","setGeoUser","mainUser","push","method","url","uniqueUserId","then","response","data","dispatch","type","payload","profileTheme","goBack","catch","err","console","log","message","marginBottom","username","followers","map","user","index","cursor","e","mapStateToProps","state","userReducer","primary","userThemeReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n        marginTop: 100,\r\n    },\r\n    list: {\r\n        maxWidth: 450,\r\n        margin: 'auto',\r\n    },\r\n}));\r\n\r\nfunction GeouserFollowers(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const params = useParams();\r\n    const [geoUser, setGeoUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if(props.mainUser === null) {\r\n            swal(\r\n                'Uh Oh!',\r\n                'You must be logged in to view this users\\' followers!',\r\n                'error',\r\n            );\r\n\r\n            history.push('/');\r\n        }\r\n        else {\r\n            return axios({\r\n                method: 'GET',\r\n                url: `http://192.168.0.9:3001/api/get/geo/followers/${params.uniqueUserId}`,\r\n            }).then(response => {\r\n                if(response.data.geoUser) {\r\n                    setGeoUser(response.data.geoUser);\r\n                    props.dispatch({type: 'ThemeChange', payload: props.mainUser.profileTheme});\r\n                }\r\n                else {\r\n                    swal(\r\n                        'Uh Oh!',\r\n                        'Could not find any followers for that user!',\r\n                        'error',\r\n                    );\r\n                    history.goBack(1);\r\n                }\r\n            }).catch(err => {\r\n                console.log(err.message);\r\n                swal(\r\n                    'Uh Oh!',\r\n                    'There was an error finding the followers for that user!',\r\n                    'error',\r\n                );\r\n                history.goBack(1);\r\n            });\r\n        }\r\n    });\r\n\r\n    if(geoUser !== null && props.mainUser !== null) {\r\n        return (\r\n            <Grid \r\n                container \r\n                className={classes.root} \r\n            >\r\n                <Grid \r\n                    item \r\n                    xs={12} \r\n                >\r\n                    <Typography \r\n                        variant='h6' \r\n                        component='h6' \r\n                        align='center' \r\n                        style={{\r\n                            marginBottom: 20,\r\n                        }}\r\n                    >\r\n                        Followers of {geoUser.username}\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid \r\n                    item \r\n                    xs={12} \r\n                >\r\n                    <List \r\n                        className={classes.list}\r\n                    >\r\n                        {geoUser.followers.map((user, index) => (\r\n                            <Paper \r\n                                elevation={3} \r\n                                key={index} \r\n                                style={{\r\n                                    marginBottom: 20,\r\n                                }}\r\n                            >\r\n                                <ListItem \r\n                                    alignItems='flex-start' \r\n                                    style={{\r\n                                        cursor: 'pointer',\r\n                                    }}\r\n                                    onClick={e => history.push(`/geouser/${user.uniqueUserId}`)}\r\n                                >\r\n                                    <ListItemAvatar>\r\n                                        <Avatar \r\n                                            src={`http://192.168.0.9:3001/api/get/avatar/by/id/${user.uniqueUserId}`}\r\n                                            alt={`${user.username}`}\r\n                                            title={`${user.username}`} \r\n                                        />\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText \r\n                                        primary={\r\n                                            <Typography \r\n                                                variant='h6' \r\n                                                component='h6' \r\n                                            >\r\n                                                {user.username}\r\n                                            </Typography>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                            </Paper>\r\n                        ))}\r\n                    </List>\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <Backdrop \r\n                open={true} \r\n            >\r\n                <CircularProgress \r\n                    color='primary' \r\n                />\r\n            </Backdrop>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        mainUser: state.userReducer.user,\r\n        primary: state.userThemeReducer.primary,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(GeouserFollowers);\r\n\r\n"]},"metadata":{},"sourceType":"module"}