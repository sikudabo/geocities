{"ast":null,"code":"import _regeneratorRuntime from\"/Users/simeonikudabo/Downloads/geocities/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/simeonikudabo/Downloads/geocities/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/simeonikudabo/Downloads/geocities/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useRef,useEffect}from'react';import Card from'@material-ui/core/Card';import CardHeader from'@material-ui/core/CardHeader';import CardMedia from'@material-ui/core/CardMedia';import CardContent from'@material-ui/core/CardContent';import CardActions from'@material-ui/core/CardActions';import Avatar from'@material-ui/core/Avatar';import Typography from'@material-ui/core/Typography';import Collapse from'@material-ui/core/Collapse';import{ValidatorForm,TextValidator}from'react-material-ui-form-validator';import Button from'@material-ui/core/Button';import Divider from'@material-ui/core/Divider';import IconButton from'@material-ui/core/IconButton';import CircularProgress from'@material-ui/core/CircularProgress';import Icon from'@mdi/react';import{mdiThumbUp,mdiThumbUpOutline,mdiComment,mdiCommentOutline,mdiChevronDown,mdiChevronUp,mdiDelete,mdiSend,mdiDotsVertical}from'@mdi/js';import{makeStyles}from'@material-ui/core/styles';import axios from'axios';import*as _ from'underscore';import{connect}from'react-redux';import swal from'sweetalert';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemAvatar from'@material-ui/core/ListItemAvatar';import ListItemText from'@material-ui/core/ListItemText';import Plyr from'react-plyr';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import TextField from'@material-ui/core/TextField';import{useHistory}from'react-router-dom';import Grid from'@material-ui/core/Grid';var useStyles=makeStyles(function(theme){return{card:{maxWidth:600,margin:'auto',padding:theme.spacing(2),backgroundColor:theme.palette.background.paper},media:{height:0,padding:'56.25%'},image:{maxWidth:'100%',maxHeight:'100%'}};});function GeoUserPostsCard(props){var classes=useStyles();//Custom styles for the component\nvar formRef=useRef(null);//Ref for the validator form\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];//This expands the comments. \nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),comment=_useState4[0],setComment=_useState4[1];//This variable holds the comment.\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),commentSending=_useState6[0],setCommentSending=_useState6[1];//This variable will disable the comment button.\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),likeSending=_useState8[0],setLikeSending=_useState8[1];//This variable will disable the like button.\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),commentDeleting=_useState10[0],setCommentDeleting=_useState10[1];//This variable and setter will handle disabling the delete button while a comment is being deleted.\nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),commentLiking=_useState12[0],setCommentLiking=_useState12[1];//This variable and setter will handle disabling the comment like Button when the comment is being liked or unliked.\nvar _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),deletingPost=_useState14[0],setDeletingPost=_useState14[1];//Variable and setter that will disable the delete button on a post while the server is deleting the post.\nvar _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),anchorEl=_useState16[0],setAnchorEl=_useState16[1];//The anchor element for a menu item within a Card Post.\nvar history=useHistory();useEffect(function(){//Add the validation rule so that a comment is not empty. \nValidatorForm.addValidationRule('notEmpty',function(v){if(v.length<1){return false;}else{return true;}});},[]);function timeDifference(date2,dateString){//This function will return whether or not we display something like \"2 hrs ago\" \"20 min ago\" or the date string for a post\nvar date1=Date.now();var difference=date1-date2;var daysDifference=Math.floor(difference/1000/60/60/24);var hoursDifference=Math.floor(difference/1000/60/60);var minutesDifference=Math.floor(difference/1000/60);var secondsDifference=Math.floor(difference/1000);if(daysDifference>0){return dateString;}else if(hoursDifference>0&&hoursDifference<23){return\"\".concat(hoursDifference,\" hr ago\");}else if(minutesDifference>0&&minutesDifference<60){return\"\".concat(minutesDifference,\" min ago\");}else if(minutesDifference===0){return\"\".concat(secondsDifference,\" secs ago\");}else{return dateString;}}function changeAnchorEl(e){//Function that will handle altering the anchorEl on menu open \nsetAnchorEl(e.currentTarget);}function handleMenuClose(){//This will handle closing the share button menu.\nsetAnchorEl(null);}function handleLike(){//This function will handle liking a post when a mainUser visits a geoUsers' page. \nsetLikeSending(true);var likeType;if(props.post.likes.includes(props.mainUser.uniqueUserId)){likeType='unlike';}else if(!props.post.likes.includes(props.mainUser.uniqueUserId)){likeType='like';}var data={uniqueLikerId:props.mainUser.uniqueUserId,uniquePostId:props.post.uniquePostId,uniqueUserId:props.post.uniqueUserId,username:props.mainUser.username,likeType:likeType,communityPost:true,communityName:props.post.community};return axios({method:'POST',url:'http://192.168.0.17:3001/api/handle/geo/post/like',data:data,headers:{'Content-Type':'application/json'}}).then(function(response){props.dispatch({type:'visitorPosts/updatePosts',payload:response.data.posts});//Update the posts. \nif(response.data.likeType==='like'){swal('Great!','Post was successfully liked!','success');setLikeSending(false);}else{swal('Great!','Post was successfully unliked!','success');setLikeSending(false);}}).catch(function(err){console.log(err.message);swal('Uh Oh!','There was an error liking or unliking that post!','error');setLikeSending(false);});}function deletePost(){//This function will handle deleting a post from the database. \nsetDeletingPost(true);var data=JSON.stringify({uniqueUserId:props.mainUser.uniqueUserId,uniquePostId:props.post.uniquePostId,community:props.post.community,communityPost:true});return axios({method:'POST',url:'http://192.168.0.17:3001/api/delete/post',data:data,headers:{'Content-Type':'application/json'}}).then(function(response){if(response.data.user){props.dispatch({type:'visitorPosts/updatePosts',payload:response.data.posts});swal('Great!','Post succcessfully deleted','success');setDeletingPost(false);}else{swal('Uh Oh!','There was an error deleting that post!','error');setDeletingPost(false);}}).catch(function(err){console.log(err.message);swal('Uh Oh!','There was an error deleting that post!','error');setDeletingPost(false);});}function deleteMediaPost(){//This function will handle deleting a post from the database. \nsetDeletingPost(true);var data=JSON.stringify({uniqueUserId:props.mainUser.uniqueUserId,uniquePostId:props.post.uniquePostId,filename:props.post.src,community:props.post.community,communityPost:true});return axios({method:'POST',url:'http://192.168.0.17:3001/api/delete/media/post',data:data,headers:{'Content-Type':'application/json'}}).then(function(response){if(response.data.user){props.dispatch({type:'visitorPosts/updatePosts',payload:response.data.posts});swal('Great!','Post succcessfully deleted','success');setDeletingPost(false);}else{swal('Uh Oh!','There was an error deleting that post!','error');setDeletingPost(false);}}).catch(function(err){console.log(err.message);swal('Uh Oh!','There was an error deleting that post!','error');setDeletingPost(false);});}function sendComment(){return _sendComment.apply(this,arguments);}function _sendComment(){_sendComment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formValid,date,months,month,day,year,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setCommentSending(true);_context.next=3;return formRef.current.isFormValid();case 3:formValid=_context.sent;if(formValid){_context.next=10;break;}swal('Uh Oh!','You must enter some text to send that comment!','error');setCommentSending(false);return _context.abrupt(\"return\",false);case 10:date=new Date();months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sept','Oct','Nov','Dec'];month=months[date.getMonth()];day=date.getDate();year=date.getFullYear();data={uniqueCommentId:Date.now()+'comment'+props.mainUser.uniqueUserId+props.mainUser.username+Date.now(),uniqueUserId:props.mainUser.uniqueUserId,username:props.mainUser.username,dateString:\"\".concat(month,\" \").concat(day,\", \").concat(year),text:comment,uniquePosterId:props.post.uniqueUserId,uniquePostId:props.post.uniquePostId,communityPost:true,communityName:props.post.community};return _context.abrupt(\"return\",axios({method:'POST',url:'http://192.168.0.17:3001/api/add/geo/comment',data:data,headers:{'Content-Type':'application/json'}}).then(function(response){props.dispatch({type:'visitorPosts/updatePosts',payload:response.data.posts});swal('Great!','Successfully posted comment!','success');setCommentSending(false);setComment('');}).catch(function(err){console.log(err.message);swal('Uh Oh!','There was an error sending that comment! Please try again.','error');setCommentSending(false);}));case 17:case\"end\":return _context.stop();}}},_callee);}));return _sendComment.apply(this,arguments);}function deleteComment(uniqueCommentId){setCommentDeleting(true);var data={uniquePostId:props.post.uniquePostId,commentId:uniqueCommentId,uniquePosterId:props.post.uniqueUserId,community:props.post.community,communityPost:true};return axios({method:'POST',url:'http://192.168.0.17:3001/api/delete/comment',data:data,headers:{'Content-Type':'application/json'}}).then(function(response){props.dispatch({type:'visitorPosts/updatePosts',payload:response.data.posts});swal('Great!','Comment successfully deleted!','success');setCommentDeleting(false);}).catch(function(err){console.log(err.message);swal('Uh Oh!','There was an error deleting that comment!','error');setCommentDeleting(false);});}function handleUserPush(uniqueUserId){//Route that handles pushing to a new user when the avatar is clicked within comments. \nhistory.push(\"/geouser/\".concat(uniqueUserId));history.go(0);}function handleCommentLike(uniqueCommentId,uniqueCommenterId,isLiked){setCommentLiking(true);var likeType;if(isLiked){likeType='unlike';}else{likeType='like';}var data={likeType:likeType,commentId:uniqueCommentId,uniqueCommenterId:uniqueCommenterId,uniquePostPosterId:props.post.uniqueUserId,uniqueLikerId:props.mainUser.uniqueUserId,username:props.mainUser.username,postType:'personal',uniquePostId:props.post.uniquePostId,community:props.post.community,communityPost:true};return axios({method:'POST',url:'http://192.168.0.17:3001/api/handle/geo/comment/like',data:data,headers:{'Content-Type':'application/json'}}).then(function(response){console.log('Here are the posts');console.log(response.data.posts);props.dispatch({type:'visitorPosts/updatePosts',payload:response.data.posts});if(response.data.likeType==='like'){swal('Great!','Comment successfully liked!','success');setCommentLiking(false);}else{swal('Great!','Comment successfully unliked!','success');setCommentLiking(false);}}).catch(function(err){console.log(err.message);swal('Uh Oh!','There was an error liking or unliking that comment! Please try again.','error');setCommentLiking(false);});}return/*#__PURE__*/_jsxs(Card,{className:classes.card,id:\"\".concat(props.post.uniquePostId),children:[/*#__PURE__*/_jsx(CardHeader,{title:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,zeroMinWidth:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"small\",noWrap:true,style:{fontWeight:'bold',fontSize:12},children:props.post.community})}),subheader:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"span\",color:\"textSecondary\",children:timeDifference(props.post.utcTime,props.post.dateString)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",component:\"small\",color:\"textSecondary\",style:{cursor:'pointer'},onClick:function onClick(e){return history.push(\"/geouser/\".concat(props.post.uniqueUserId));},children:props.post.username})]}),avatar:/*#__PURE__*/_jsx(Avatar,{src:\"http://192.168.0.17:3001/api/get/avatar/by/community/name/\".concat(props.post.community),title:\"\".concat(props.post.username),alt:\"\".concat(props.post.username)}),action:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Icon,{path:mdiDotsVertical,size:1,title:\"Share button\",\"aria-label\":\"Share button\",onClick:changeAnchorEl})}),/*#__PURE__*/_jsx(Menu,{open:Boolean(anchorEl),anchorEl:anchorEl,keepMounted:true,onClose:handleMenuClose,children:/*#__PURE__*/_jsx(MenuItem,{children:/*#__PURE__*/_jsx(TextField,{label:\"Post link\",color:\"primary\",value:\"http://192.168.0.9:3000/community/\".concat(props.post.community,\"#\").concat(props.post.uniquePostId),readonly:true})})})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[props.post.type==='photo'&&/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:\"http://192.168.0.17:3001/api/get-photo/\".concat(props.post.src),title:\"Post by \".concat(props.post.username),alt:\"GeoCities photo post\"}),props.post.type==='link'&&/*#__PURE__*/_jsx(CardMedia,{image:props.post.linkImage,title:\"Post by \".concat(props.post.username),alt:\"GeoCities link post\",className:classes.media})]}),/*#__PURE__*/_jsx(\"div\",{children:props.post.type==='video'&&/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Plyr,{playsinline:true,playsInline:true,type:\"video\",sources:[{src:\"http://192.168.0.17:3001/api/get-video/\".concat(props.post.src)}],fullscreen:{enable:true,fallback:true,iosNative:false}})})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[props.post.title&&/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h3\",align:\"center\",children:props.post.title}),props.post.type==='text'&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"p\",children:props.post.text}),props.post.type==='link'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{href:props.post.link,style:{textAlign:'center'},children:\"Link\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"p\",children:props.post.linkDescription})]})]}),/*#__PURE__*/_jsx(\"div\",{children:(props.post.type==='photo'||props.post.type==='video')&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"p\",children:props.post.caption})})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsxs(IconButton,{color:\"primary\",disabled:likeSending,children:[/*#__PURE__*/_jsx(Icon,{path:props.post.likes.includes(props.mainUser.uniqueUserId)?mdiThumbUp:mdiThumbUpOutline,size:1,title:\"Post like button\",\"aria-label\":\"Post like button\",onClick:handleLike}),/*#__PURE__*/_jsx(\"div\",{children:props.post.likes.length>0&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"p\",children:props.post.likes.length})})]}),/*#__PURE__*/_jsxs(IconButton,{color:\"primary\",onClick:function onClick(){return setExpanded(!expanded);},children:[/*#__PURE__*/_jsx(Icon,{path:_.find(props.post.comments,function(comment){return comment.uniqueUserId===props.mainUser.uniqueUserId;})?mdiComment:mdiCommentOutline,size:1,title:\"Comment button\",\"aria-label\":\"Comment button\"}),/*#__PURE__*/_jsx(\"div\",{children:props.post.comments.length>0&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"p\",children:props.post.comments.length})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[(props.post.uniqueUserId===props.mainUser.uniqueUserId||props.moderator===true)&&(props.post.type==='text'||props.post.type==='link')&&/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:deletePost,disabled:deletingPost,children:deletingPost?/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"}):/*#__PURE__*/_jsx(Icon,{path:mdiDelete,size:1,title:\"Post delete button\",\"aria-label\":\"Post delete button\"})}),(props.post.uniqueUserId===props.mainUser.uniqueUserId||props.moderator===true)&&(props.post.type==='photo'||props.post.type==='video')&&/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:deleteMediaPost,disabled:deletingPost,children:deletingPost?/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"}):/*#__PURE__*/_jsx(Icon,{path:mdiDelete,size:1,title:\"Post delete button\",\"aria-label\":\"Post delete button\"})})]}),/*#__PURE__*/_jsx(IconButton,{style:{marginLeft:'auto'},onClick:function onClick(){return setExpanded(!expanded);},children:/*#__PURE__*/_jsx(Icon,{path:expanded?mdiChevronUp:mdiChevronDown,size:1,title:expanded?'Expand less':'Expand more',\"aria-label\":expanded?'Expand less':'Expand more'})})]}),/*#__PURE__*/_jsxs(Collapse,{in:expanded,children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(ValidatorForm,{ref:formRef,onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(TextValidator,{label:\"Comment\",placeholder:\"Add a comment...\",variant:\"outlined\",color:\"primary\",helperText:\"Add a comment\",value:comment,onChange:function onChange(e){return setComment(e.target.value);},validators:['notEmpty'],errorMessages:['You must enter some text to send a comment!'],InputLabelProps:{shrink:true},rows:4,multiline:true,fullWidth:true}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Icon,{path:mdiSend,size:1,title:\"Send icon\"}),\"aria-label\":\"Send comment button\",disabled:commentSending,onClick:sendComment,children:commentSending?/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"}):'Send'})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:10},children:props.post.comments.length>0&&/*#__PURE__*/_jsx(\"div\",{children:props.post.comments.map(function(comment,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(ListItem,{id:\"\".concat(comment.uniqueCommentId),alignItems:\"flex-start\",children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{src:\"http://192.168.0.17:3001/api/get/avatar/by/id/\".concat(comment.uniqueUserId),title:\"\".concat(comment.username),alt:\"\".concat(comment.username),onClick:function onClick(e){return handleUserPush(comment.uniqueUserId);},style:{cursor:'pointer'}})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h6\",children:comment.username}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"span\",color:\"textSecondary\",children:timeDifference(comment.utcTime,comment.dateString)})]}),secondary:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"p\",children:comment.text})}),/*#__PURE__*/_jsx(\"div\",{children:(props.mainUser.uniqueUserId===comment.uniqueUserId||props.moderator===true)&&/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:function onClick(){return deleteComment(comment.uniqueCommentId);},disabled:commentDeleting,children:commentDeleting?/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"}):/*#__PURE__*/_jsx(Icon,{path:mdiDelete,size:1,title:\"Delete comment button\",\"aria-label\":\"Delete comment button\"})})}),/*#__PURE__*/_jsx(\"div\",{children:props.mainUser!==null&&/*#__PURE__*/_jsxs(IconButton,{color:\"primary\",disabled:commentLiking,onClick:function onClick(){return handleCommentLike(comment.uniqueCommentId,comment.uniqueUserId,comment.likes.includes(props.mainUser.uniqueUserId));},children:[!comment.likes.includes(props.mainUser.uniqueUserId)?/*#__PURE__*/_jsx(Icon,{path:mdiThumbUpOutline,size:1,title:\"Comment like button\",\"aria-label\":\"Comment like button\"}):/*#__PURE__*/_jsx(Icon,{path:mdiThumbUp,size:1,title:\"Comment like button\",\"aria-label\":\"Comment like button\"}),comment.likes.length>0&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"p\",children:comment.likes.length})]})})]}),index<props.post.comments.length-1&&/*#__PURE__*/_jsx(Divider,{})]},index);})})})]})]})]});}function mapStateToProps(state){return{mainUser:state.userReducer.user,posts:state.visitorPostsReducer.posts};}export default connect(mapStateToProps)(GeoUserPostsCard);","map":{"version":3,"sources":["/Users/simeonikudabo/Downloads/geocities/src/components/CommunityPostsCard.js"],"names":["React","useState","useRef","useEffect","Card","CardHeader","CardMedia","CardContent","CardActions","Avatar","Typography","Collapse","ValidatorForm","TextValidator","Button","Divider","IconButton","CircularProgress","Icon","mdiThumbUp","mdiThumbUpOutline","mdiComment","mdiCommentOutline","mdiChevronDown","mdiChevronUp","mdiDelete","mdiSend","mdiDotsVertical","makeStyles","axios","_","connect","swal","List","ListItem","ListItemAvatar","ListItemText","Plyr","Menu","MenuItem","TextField","useHistory","Grid","useStyles","theme","card","maxWidth","margin","padding","spacing","backgroundColor","palette","background","paper","media","height","image","maxHeight","GeoUserPostsCard","props","classes","formRef","expanded","setExpanded","comment","setComment","commentSending","setCommentSending","likeSending","setLikeSending","commentDeleting","setCommentDeleting","commentLiking","setCommentLiking","deletingPost","setDeletingPost","anchorEl","setAnchorEl","history","addValidationRule","v","length","timeDifference","date2","dateString","date1","Date","now","difference","daysDifference","Math","floor","hoursDifference","minutesDifference","secondsDifference","changeAnchorEl","e","currentTarget","handleMenuClose","handleLike","likeType","post","likes","includes","mainUser","uniqueUserId","data","uniqueLikerId","uniquePostId","username","communityPost","communityName","community","method","url","headers","then","response","dispatch","type","payload","posts","catch","err","console","log","message","deletePost","JSON","stringify","user","deleteMediaPost","filename","src","sendComment","current","isFormValid","formValid","date","months","month","getMonth","day","getDate","year","getFullYear","uniqueCommentId","text","uniquePosterId","deleteComment","commentId","handleUserPush","push","go","handleCommentLike","uniqueCommenterId","isLiked","uniquePostPosterId","postType","fontWeight","fontSize","utcTime","cursor","Boolean","linkImage","enable","fallback","iosNative","title","link","textAlign","linkDescription","caption","find","comments","moderator","marginLeft","preventDefault","target","value","shrink","marginTop","map","index","mapStateToProps","state","userReducer","visitorPostsReducer"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Icon from '@mdi/react';\nimport { mdiThumbUp, mdiThumbUpOutline, mdiComment, mdiCommentOutline, mdiChevronDown, mdiChevronUp, mdiDelete, mdiSend, mdiDotsVertical } from '@mdi/js';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport * as _ from 'underscore';\nimport { connect } from 'react-redux';\nimport swal from 'sweetalert';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Plyr from 'react-plyr';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport { useHistory } from 'react-router-dom';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n    card: {\n        maxWidth: 600,\n        margin: 'auto',\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.background.paper,\n    },\n    media: {\n        height: 0,\n        padding: '56.25%',\n    },\n    image: {\n        maxWidth: '100%',\n        maxHeight: '100%',\n    },\n}));\n\nfunction GeoUserPostsCard(props) {\n    const classes = useStyles(); //Custom styles for the component\n    const formRef = useRef(null); //Ref for the validator form\n    const [expanded, setExpanded] = useState(false); //This expands the comments. \n    const [comment, setComment] = useState(''); //This variable holds the comment.\n    const [commentSending, setCommentSending] = useState(false); //This variable will disable the comment button.\n    const [likeSending, setLikeSending] = useState(false); //This variable will disable the like button.\n    const [commentDeleting, setCommentDeleting] = useState(false); //This variable and setter will handle disabling the delete button while a comment is being deleted.\n    const [commentLiking, setCommentLiking] = useState(false); //This variable and setter will handle disabling the comment like Button when the comment is being liked or unliked.\n    const [deletingPost, setDeletingPost] = useState(false); //Variable and setter that will disable the delete button on a post while the server is deleting the post.\n    const [anchorEl, setAnchorEl] = useState(null); //The anchor element for a menu item within a Card Post.\n    const history = useHistory();\n\n    useEffect(() => {\n        //Add the validation rule so that a comment is not empty. \n        ValidatorForm.addValidationRule('notEmpty', v => {\n            if(v.length < 1) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }, []);\n\n    function timeDifference(date2, dateString) {\n        //This function will return whether or not we display something like \"2 hrs ago\" \"20 min ago\" or the date string for a post\n        let date1 = Date.now();\n        let difference = date1 - date2;\n        let daysDifference = Math.floor(difference/1000/60/60/24);\n        let hoursDifference = Math.floor(difference/1000/60/60);\n        let minutesDifference = Math.floor(difference/1000/60);\n        let secondsDifference = Math.floor(difference/1000);\n        if(daysDifference > 0) {\n            return dateString;\n        }\n        else if(hoursDifference > 0 && hoursDifference < 23) {\n            return `${hoursDifference} hr ago`;\n        }\n        else if(minutesDifference > 0 && minutesDifference < 60) {\n            return `${minutesDifference} min ago`;\n        }\n        else if(minutesDifference === 0) {\n            return `${secondsDifference} secs ago`\n        }\n        else {\n            return dateString;\n        }\n    }\n\n    function changeAnchorEl(e) {\n        //Function that will handle altering the anchorEl on menu open \n        setAnchorEl(e.currentTarget);\n    }\n\n    function handleMenuClose() {\n        //This will handle closing the share button menu.\n        setAnchorEl(null);\n    }\n\n    function handleLike() {\n        //This function will handle liking a post when a mainUser visits a geoUsers' page. \n        setLikeSending(true);\n        let likeType;\n        if(props.post.likes.includes(props.mainUser.uniqueUserId)) {\n            likeType = 'unlike';\n        }\n        else if(!props.post.likes.includes(props.mainUser.uniqueUserId)) {\n            likeType = 'like';\n        }\n        let data = {\n            uniqueLikerId: props.mainUser.uniqueUserId,\n            uniquePostId: props.post.uniquePostId,\n            uniqueUserId: props.post.uniqueUserId,\n            username: props.mainUser.username,\n            likeType: likeType,\n            communityPost: true,\n            communityName: props.post.community,\n        };\n\n        return axios({\n            method: 'POST',\n            url: 'http://192.168.0.17:3001/api/handle/geo/post/like',\n            data: data,\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        }).then(response => {\n            props.dispatch({type: 'visitorPosts/updatePosts', payload: response.data.posts}); //Update the posts. \n            if(response.data.likeType === 'like') {\n                swal(\n                    'Great!',\n                    'Post was successfully liked!',\n                    'success',\n                );\n                setLikeSending(false);\n            }\n            else {\n                swal(\n                    'Great!',\n                    'Post was successfully unliked!',\n                    'success',\n                );\n                setLikeSending(false);\n            }\n        }).catch(err => {\n            console.log(err.message);\n            swal(\n                'Uh Oh!',\n                'There was an error liking or unliking that post!',\n                'error',\n            );\n            setLikeSending(false);\n        });\n    }\n\n    function deletePost() {\n        //This function will handle deleting a post from the database. \n        setDeletingPost(true);\n\n        let data = JSON.stringify({\n            uniqueUserId: props.mainUser.uniqueUserId,\n            uniquePostId: props.post.uniquePostId,\n            community: props.post.community,\n            communityPost: true,\n        });\n\n        return axios({\n            method: 'POST',\n            url: 'http://192.168.0.17:3001/api/delete/post',\n            data: data,\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        }).then(response => {\n            if(response.data.user) {\n                props.dispatch({type: 'visitorPosts/updatePosts', payload: response.data.posts});\n                swal(\n                    'Great!',\n                    'Post succcessfully deleted',\n                    'success',\n                );\n                setDeletingPost(false);\n            }\n            else {\n                swal(\n                    'Uh Oh!',\n                    'There was an error deleting that post!',\n                    'error',\n                );\n                setDeletingPost(false);\n            }\n        }).catch(err => {\n            console.log(err.message);\n\n            swal(\n                'Uh Oh!',\n                'There was an error deleting that post!',\n                'error',\n            );\n\n            setDeletingPost(false);\n        });\n    }\n\n    function deleteMediaPost() {\n        //This function will handle deleting a post from the database. \n        setDeletingPost(true);\n\n        let data = JSON.stringify({\n            uniqueUserId: props.mainUser.uniqueUserId,\n            uniquePostId: props.post.uniquePostId,\n            filename: props.post.src,\n            community: props.post.community,\n            communityPost: true,\n        });\n\n        return axios({\n            method: 'POST',\n            url: 'http://192.168.0.17:3001/api/delete/media/post',\n            data: data,\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        }).then(response => {\n            if(response.data.user) {\n                props.dispatch({type: 'visitorPosts/updatePosts', payload: response.data.posts});\n                swal(\n                    'Great!',\n                    'Post succcessfully deleted',\n                    'success',\n                );\n                setDeletingPost(false);\n            }\n            else {\n                swal(\n                    'Uh Oh!',\n                    'There was an error deleting that post!',\n                    'error',\n                );\n                setDeletingPost(false);\n            }\n        }).catch(err => {\n            console.log(err.message);\n\n            swal(\n                'Uh Oh!',\n                'There was an error deleting that post!',\n                'error',\n            );\n\n            setDeletingPost(false);\n        });\n    }\n\n    async function sendComment() {\n        setCommentSending(true);\n        let formValid = await formRef.current.isFormValid();\n        if(!formValid) {\n            swal(\n                'Uh Oh!',\n                'You must enter some text to send that comment!',\n                'error',\n            );\n            setCommentSending(false);\n            return false;\n        }\n        else {\n            let date = new Date();\n            let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];\n            let month = months[date.getMonth()];\n            let day = date.getDate();\n            let year = date.getFullYear();\n\n            let data = {\n                uniqueCommentId: Date.now() + 'comment' + props.mainUser.uniqueUserId + props.mainUser.username + Date.now(),\n                uniqueUserId: props.mainUser.uniqueUserId,\n                username: props.mainUser.username,\n                dateString: `${month} ${day}, ${year}`,\n                text: comment,\n                uniquePosterId: props.post.uniqueUserId,\n                uniquePostId: props.post.uniquePostId,\n                communityPost: true,\n                communityName: props.post.community,\n            };\n\n            return axios({\n                method: 'POST',\n                url: 'http://192.168.0.17:3001/api/add/geo/comment',\n                data: data,\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            }).then(response => {\n                props.dispatch({type: 'visitorPosts/updatePosts', payload: response.data.posts});\n                swal(\n                    'Great!',\n                    'Successfully posted comment!',\n                    'success',\n                );\n                setCommentSending(false);\n                setComment('');\n            }).catch(err => {\n                console.log(err.message);\n                swal(\n                    'Uh Oh!',\n                    'There was an error sending that comment! Please try again.',\n                    'error',\n                );\n                setCommentSending(false);\n            });\n        }\n    }\n\n    function deleteComment(uniqueCommentId) {\n        setCommentDeleting(true); \n\n        let data = {\n            uniquePostId: props.post.uniquePostId,\n            commentId: uniqueCommentId,\n            uniquePosterId: props.post.uniqueUserId,\n            community: props.post.community,\n            communityPost: true,\n        };\n\n        return axios({\n            method: 'POST',\n            url: 'http://192.168.0.17:3001/api/delete/comment',\n            data: data,\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        }).then(response => {\n            props.dispatch({type: 'visitorPosts/updatePosts', payload: response.data.posts});\n            swal(\n                'Great!',\n                'Comment successfully deleted!',\n                'success',\n            );\n            setCommentDeleting(false);\n        }).catch(err => {\n            console.log(err.message);\n            swal(\n                'Uh Oh!',\n                'There was an error deleting that comment!',\n                'error',\n            );\n            setCommentDeleting(false);\n        });\n    }\n\n    function handleUserPush(uniqueUserId) {\n        //Route that handles pushing to a new user when the avatar is clicked within comments. \n        history.push(`/geouser/${uniqueUserId}`);\n        history.go(0);\n    }\n\n    function handleCommentLike(uniqueCommentId, uniqueCommenterId, isLiked) {\n        setCommentLiking(true); \n        let likeType;\n        if(isLiked) {\n            likeType = 'unlike';\n        }\n        else {\n            likeType = 'like';\n        }\n\n        let data = {\n            likeType: likeType,\n            commentId: uniqueCommentId,\n            uniqueCommenterId: uniqueCommenterId,\n            uniquePostPosterId: props.post.uniqueUserId,\n            uniqueLikerId: props.mainUser.uniqueUserId,\n            username: props.mainUser.username,\n            postType: 'personal',\n            uniquePostId: props.post.uniquePostId,\n            community: props.post.community,\n            communityPost: true,\n        };\n\n        return axios({\n            method: 'POST',\n            url: 'http://192.168.0.17:3001/api/handle/geo/comment/like',\n            data: data,\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        }).then(response => {\n            console.log('Here are the posts');\n            console.log(response.data.posts);\n            props.dispatch({type: 'visitorPosts/updatePosts', payload: response.data.posts});\n            if(response.data.likeType === 'like') {\n                swal(\n                    'Great!',\n                    'Comment successfully liked!',\n                    'success',\n                );\n                setCommentLiking(false);\n            }\n            else {\n                swal(\n                    'Great!',\n                    'Comment successfully unliked!',\n                    'success',\n                );\n                setCommentLiking(false);\n            }\n        }).catch(err => {\n            console.log(err.message);\n            swal(\n                'Uh Oh!',\n                'There was an error liking or unliking that comment! Please try again.',\n                'error',\n            );\n            setCommentLiking(false);\n        });\n    }\n\n    return (\n        <Card \n            className={classes.card}\n            id={`${props.post.uniquePostId}`}\n        >\n            <CardHeader \n                title={\n                    <Grid \n                        item \n                        xs={12}\n                        zeroMinWidth \n                    >\n                        <Typography \n                            variant='subtitle1'\n                            component='small'\n                            noWrap\n                            style={{\n                                fontWeight: 'bold',\n                                fontSize: 12,\n                            }}\n                        >\n                            {props.post.community}\n                        </Typography>\n                    </Grid>\n                }\n                subheader={\n                    <React.Fragment>\n                        <Typography \n                            variant='subtitle1'\n                            component='span'\n                            color='textSecondary' \n                        >\n                            {timeDifference(props.post.utcTime, props.post.dateString)}\n                        </Typography>\n                        <br />\n                        <Typography \n                            variant='subtitle2' \n                            component='small' \n                            color='textSecondary'  \n                            style={{\n                                cursor: 'pointer',\n                            }}\n                            onClick={e => history.push(`/geouser/${props.post.uniqueUserId}`)}\n                        >\n                            {props.post.username}\n                        </Typography>\n                    </React.Fragment>\n                }\n                avatar={\n                    <Avatar \n                        src={`http://192.168.0.17:3001/api/get/avatar/by/community/name/${props.post.community}`}\n                        title={`${props.post.username}`}\n                        alt={`${props.post.username}`}\n                    />\n                }\n                action={\n                    <div>\n                        <IconButton>\n                            <Icon \n                                path={mdiDotsVertical} \n                                size={1} \n                                title='Share button' \n                                aria-label='Share button' \n                                onClick={changeAnchorEl}\n                            />\n                        </IconButton>\n                        <Menu \n                            open={Boolean(anchorEl)}\n                            anchorEl={anchorEl}\n                            keepMounted \n                            onClose={handleMenuClose}\n                        >\n                            <MenuItem>\n                                <TextField \n                                    label='Post link' \n                                    color='primary' \n                                    value={`http://192.168.0.9:3000/community/${props.post.community}#${props.post.uniquePostId}`}\n                                    readonly \n                                />\n                            </MenuItem>\n                        </Menu>\n                    </div>\n                }\n            />\n            <div>\n                {props.post.type === 'photo' &&\n                    <CardMedia \n                        className={classes.media}\n                        image={`http://192.168.0.17:3001/api/get-photo/${props.post.src}`}\n                        title={`Post by ${props.post.username}`}\n                        alt='GeoCities photo post'\n                    />\n                }\n                {props.post.type === 'link' && \n                    <CardMedia\n                        image={props.post.linkImage}\n                        title={`Post by ${props.post.username}`}\n                        alt='GeoCities link post'\n                        className={classes.media}\n                    />\n                }\n            </div>\n            <div>\n                {props.post.type === 'video' &&\n                    <CardContent>\n                        <Plyr \n                            playsinline={true}\n                            playsInline\n                            type='video'\n                            sources={[\n                                {\n                                    src: `http://192.168.0.17:3001/api/get-video/${props.post.src}`,\n                                }\n                            ]}\n                            fullscreen={{\n                                enable: true,\n                                fallback: true,\n                                iosNative: false,\n                            }}\n                        />\n                    </CardContent>\n                }\n            </div>\n            <CardContent>\n                <div>\n                    {props.post.title &&\n                        <Typography \n                            variant='h3' \n                            component='h3' \n                            align='center'\n                        >\n                            {props.post.title}\n                        </Typography>\n                    }\n                    {props.post.type === 'text' &&\n                        <Typography \n                            variant='body2' \n                            component='p' \n                        >\n                            {props.post.text}\n                        </Typography>\n                    }\n                    {props.post.type === 'link' &&\n                        <div>\n                            <a \n                                href={props.post.link} \n                                style={{\n                                    textAlign: 'center',\n                                }}\n                            >\n                                Link\n                            </a>\n                            <Typography \n                                variant='body2' \n                                component='p' \n                            >\n                                {props.post.linkDescription}\n                            </Typography>\n\n                        </div>\n                    }   \n                </div>\n                <div>\n                    {(props.post.type === 'photo' || props.post.type === 'video') && \n                        <Typography \n                            variant='body2' \n                            component='p' \n                        >\n                            {props.post.caption}\n                        </Typography>\n                    }\n                </div>\n            </CardContent>\n            <CardActions>\n                <IconButton \n                    color='primary'\n                    disabled={likeSending}\n                >\n                    <Icon  \n                        path={props.post.likes.includes(props.mainUser.uniqueUserId) ? mdiThumbUp : mdiThumbUpOutline}\n                        size={1} \n                        title='Post like button'\n                        aria-label='Post like button'\n                        onClick={handleLike}\n                    />\n                    <div>\n                        {props.post.likes.length > 0 &&\n                            <Typography \n                                variant='body1' \n                                component='p' \n                            >\n                                {props.post.likes.length}\n                            </Typography>\n                        }\n                    </div>\n                </IconButton>\n                <IconButton \n                    color='primary'\n                    onClick={() => setExpanded(!expanded)}\n                >\n                    <Icon \n                        path={_.find(props.post.comments, comment => comment.uniqueUserId === props.mainUser.uniqueUserId) ? mdiComment : mdiCommentOutline} \n                        size={1}\n                        title='Comment button' \n                        aria-label='Comment button' \n                    />\n                    <div>\n                        {props.post.comments.length > 0 &&\n                            <Typography \n                                variant='body1' \n                                component='p' \n                            >\n                                {props.post.comments.length}\n                            </Typography>\n                        }\n                    </div>\n                </IconButton>\n                <div>\n                    {(props.post.uniqueUserId === props.mainUser.uniqueUserId || props.moderator === true) && (props.post.type === 'text' || props.post.type === 'link') &&\n                        <IconButton \n                            color='primary' \n                            onClick={deletePost}\n                            disabled={deletingPost}\n                        >\n                            {deletingPost ? <CircularProgress color='primary' /> : <Icon path={mdiDelete} size={1} title='Post delete button' aria-label='Post delete button' />}\n                        </IconButton>\n                    }\n                    {(props.post.uniqueUserId === props.mainUser.uniqueUserId || props.moderator === true) && (props.post.type === 'photo' || props.post.type === 'video') &&\n                        <IconButton \n                        color='primary' \n                        onClick={deleteMediaPost}\n                        disabled={deletingPost}\n                        >\n                            {deletingPost ? <CircularProgress color='primary' /> : <Icon path={mdiDelete} size={1} title='Post delete button' aria-label='Post delete button' />}\n                        </IconButton>\n                    }\n                </div>\n                <IconButton \n                    style={{\n                        marginLeft: 'auto' \n                    }}\n                    onClick={() => setExpanded(!expanded)}\n                >\n                    <Icon \n                        path={expanded ? mdiChevronUp : mdiChevronDown} \n                        size={1}\n                        title={expanded ? 'Expand less' : 'Expand more'} \n                        aria-label={expanded ? 'Expand less' : 'Expand more'} \n                    />\n                </IconButton>\n            </CardActions>\n            <Collapse \n                in={expanded} \n            >\n                <Divider />\n                <CardContent>\n                    <ValidatorForm \n                        ref={formRef} \n                        onSubmit={e => e.preventDefault()} \n                    >\n                        <TextValidator \n                            label='Comment' \n                            placeholder='Add a comment...' \n                            variant='outlined' \n                            color='primary' \n                            helperText='Add a comment' \n                            value={comment} \n                            onChange={e => setComment(e.target.value)} \n                            validators={['notEmpty']}\n                            errorMessages={['You must enter some text to send a comment!']}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            rows={4}\n                            multiline \n                            fullWidth \n                        />\n                        <Button \n                            color='primary' \n                            variant='outlined' \n                            startIcon={\n                                <Icon \n                                    path={mdiSend} \n                                    size={1} \n                                    title='Send icon' \n                                />\n                            }\n                            aria-label='Send comment button' \n                            disabled={commentSending}\n                            onClick={sendComment}\n                        >\n                            {commentSending ? <CircularProgress color='primary' /> : 'Send'}\n                        </Button>\n                    </ValidatorForm>\n                    <Divider />\n                    <div \n                        style={{\n                            marginTop: 10,\n                        }}\n                    >\n                        {props.post.comments.length > 0 &&\n                            <div>\n                                {props.post.comments.map((comment, index) => (\n                                    <div\n                                        key={index} \n                                    >\n                                        <ListItem \n                                            id={`${comment.uniqueCommentId}`}\n                                            alignItems='flex-start'\n                                        >\n                                            <ListItemAvatar>\n                                                <Avatar \n                                                    src={`http://192.168.0.17:3001/api/get/avatar/by/id/${comment.uniqueUserId}`}\n                                                    title={`${comment.username}`}\n                                                    alt={`${comment.username}`} \n                                                    onClick={e => handleUserPush(comment.uniqueUserId)}\n                                                    style={{\n                                                        cursor: 'pointer',\n                                                    }}\n                                                />\n                                            </ListItemAvatar>\n                                            <ListItemText \n                                                primary={\n                                                    <div>\n                                                        <Typography \n                                                            variant='h6' \n                                                            component='h6' \n                                                        >\n                                                            {comment.username}\n                                                        </Typography>\n                                                        <Typography \n                                                            variant='subtitle1' \n                                                            component='span' \n                                                            color='textSecondary'\n                                                        >\n                                                            {timeDifference(comment.utcTime, comment.dateString)}\n                                                        </Typography>\n                                                    </div>\n                                                }\n                                                secondary={\n                                                    <Typography \n                                                        variant='body2' \n                                                        component='p' \n                                                    >\n                                                        {comment.text}\n                                                    </Typography>\n                                                }\n                                            />\n                                            <div>\n                                                {(props.mainUser.uniqueUserId === comment.uniqueUserId || props.moderator === true) &&\n                                                    <IconButton \n                                                        color='primary'\n                                                        onClick={() => deleteComment(comment.uniqueCommentId)}\n                                                        disabled={commentDeleting}\n                                                    >\n                                                        {commentDeleting ? <CircularProgress color='primary' /> : <Icon path={mdiDelete} size={1} title='Delete comment button' aria-label='Delete comment button' />}\n                                                    </IconButton>\n                                                }\n                                            </div>\n                                            <div>\n                                                {props.mainUser !== null &&\n                                                    <IconButton \n                                                        color='primary' \n                                                        disabled={commentLiking}\n                                                        onClick={() => handleCommentLike(comment.uniqueCommentId, comment.uniqueUserId, comment.likes.includes(props.mainUser.uniqueUserId))}\n                                                    >\n                                                        {!comment.likes.includes(props.mainUser.uniqueUserId) ? <Icon path={mdiThumbUpOutline} size={1}  title='Comment like button' aria-label='Comment like button' /> : <Icon path={mdiThumbUp} size={1} title='Comment like button' aria-label='Comment like button' />}\n                                                        {comment.likes.length > 0 &&\n                                                            <Typography \n                                                                variant='body1' \n                                                                component='p' \n                                                            >\n                                                                {comment.likes.length}\n                                                            </Typography>\n                                                        }\n                                                    </IconButton>\n                                                }\n                                            </div>\n                                        </ListItem>\n                                        {index < props.post.comments.length - 1 &&\n                                            <Divider />\n                                        }\n                                    </div>\n                                ))}\n                            </div>\n                        }\n                    </div>\n                </CardContent>\n            </Collapse>\n        </Card>\n    );\n}\n\nfunction mapStateToProps(state) {\n    return {\n        mainUser: state.userReducer.user,\n        posts: state.visitorPostsReducer.posts,\n    };\n}\n\nexport default connect(mapStateToProps)(GeoUserPostsCard);"]},"metadata":{},"sourceType":"module"}