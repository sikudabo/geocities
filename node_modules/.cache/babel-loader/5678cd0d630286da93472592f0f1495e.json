{"ast":null,"code":"import _regeneratorRuntime from\"c:/Users/bobma/Downloads/excite-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"c:/Users/bobma/Downloads/excite-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"c:/Users/bobma/Downloads/excite-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useRef,useEffect}from'react';import{useHistory}from'react-router-dom';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import CardActions from'@material-ui/core/CardActions';import Box from'@material-ui/core/Box';import{ValidatorForm,TextValidator}from'react-material-ui-form-validator';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import axios from'axios';import swal from'sweetalert';import Backdrop from'@material-ui/core/Backdrop';import CircularProgress from'@material-ui/core/CircularProgress';import{makeStyles}from'@material-ui/core/styles';import SvgIcon from'@material-ui/core/SvgIcon';import AccountCircleIcon from'@material-ui/icons/AccountCircle';import LockIcon from'@material-ui/icons/Lock';import InputAdornment from'@material-ui/core/InputAdornment';import{connect}from'react-redux';//Within the styles rgb(0, 20, 60) fits the logo design for blue and rgb(0, 73, 0) for green\nvar useStyles=makeStyles(function(theme){return{root:{textAlign:'center',padding:theme.spacing(2)},card:{maxWidth:450,margin:'auto'},signUpBtn:{backgroundColor:'rgb(255, 255, 255)',color:'rgb(0, 32, 91)',marginLeft:'auto'},geoPrimary:{color:'rgb(0, 20, 60)'},geoSecondary:{color:'rgb(0, 73, 0)'},logoImg:{width:'100%',height:'100%'}};});function Login(props){var classes=useStyles();var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var formRef=useRef(null);var regularExpressions={usernameExpression:/^\\w+$/,alphaStartRe:/^[A-Za-z]+$/};useEffect(function(){//If the user is logged in, return to the profile page. \nif(props.user!==null){history.push('/profile');}//The validation rule below ensures a username and password have at least 6 characters.\nValidatorForm.addValidationRule('enoughCharacters',function(value){if(value.length<6){return false;}else{return true;}});//The validation rule below ensures that a username only containers letters, numbers and underscores.\nValidatorForm.addValidationRule('usernameRe',function(value){if(!regularExpressions.usernameExpression.test(value)){return false;}else{return true;}});ValidatorForm.addValidationRule('alphaStartRe',function(value){if(!regularExpressions.alphaStartRe.test(value.charAt(0))){return false;}else{return true;}});},[]);function handleUsernameChange(e){setUsername(e.target.value);}function handlePasswordChange(e){setPassword(e.target.value);}function enterPress(e){/*This function will handle an \"enter\" key press. If the user presses enter \r\n        while they are in the password TextField box, they will trigger the \r\n        sendLoginData function \r\n        */if(e.charCode===13){sendLoginData();}}function preventSpace(e){//This function will prevent spaces when the user enters a username.\n//It is triggered with an onKeyDown event.\nif(e.keyCode===32){e.preventDefault();return;}}function sendLoginData(){return _sendLoginData.apply(this,arguments);}function _sendLoginData(){_sendLoginData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var isValid,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return formRef.current.isFormValid();case 2:isValid=_context.sent;if(isValid){_context.next=6;break;}swal('Uh oh!','Make sure you filled out the log in form properly!','error');return _context.abrupt(\"return\",false);case 6:if(!(username.length<6)){_context.next=12;break;}swal('Uh oh!','Username must be at least 6 characters long!','error');setOpen(false);return _context.abrupt(\"return\");case 12:if(!(password.length<6)){_context.next=18;break;}swal('Uh oh!','Password must be at least 6 characters long!','error');setOpen(false);return _context.abrupt(\"return\");case 18:data=JSON.stringify({username:username,password:password});return _context.abrupt(\"return\",axios({method:'post',data:data,url:'https://www.geocities.cc/api/login',headers:{'Content-Type':'application/json'}}).then(function(response){if(response.data.user){setOpen(false);props.dispatch({type:'user/updateUser',payload:response.data.user});props.dispatch({type:'ThemeChange',payload:response.data.user.profileTheme});swal('Great!','Successfully logged in','success');history.push('/profile');}else if(response.data==='user not found'){setOpen(false);swal('Uh oh!','We could not find that username! Please try again. If you forgot your username, press the \"FORGOT USERNAME OR PASSWORD\" button below.','error');}else if(response.data==='invalid password'){setOpen(false);swal('Uh oh!','That password was invalid. Please try again. If you forgot your password, press the \"FORGOT USERNAME OR PASSWORD\" button below.','error');}}).catch(function(err){setOpen(false);console.log(err.message);swal('Uh oh!','There was an error logging you in. Please try again!','error');}));case 20:case\"end\":return _context.stop();}}},_callee);}));return _sendLoginData.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsxs(Backdrop,{open:open,children:[/*#__PURE__*/_jsxs(Box,{children:[\"mb=\",10,/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"})]}),/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"textSecondary\",component:\"p\",children:\"Logging in\"})})]}),/*#__PURE__*/_jsxs(Card,{className:classes.card,hidden:open,children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{mb:4,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",component:\"h6\",children:[\"Welcome to \",/*#__PURE__*/_jsx(\"span\",{className:classes.geoPrimary,children:\"Geo\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.geoSecondary,children:\"Cities\"}),\"!\",/*#__PURE__*/_jsxs(SvgIcon,{style:{color:'rgb(0, 20, 60)'},children:[/*#__PURE__*/_jsx(\"path\",{d:\"M 10.050781 0.222656 C 9.261719 0.355469 8.6875 0.765625 8.472656 1.363281 C 8.402344 1.558594 8.394531 1.902344 8.449219 2.085938 C 8.621094 2.644531 9.289062 3.136719 9.988281 3.226562 C 10.082031 3.234375 10.347656 3.246094 10.574219 3.242188 C 11.0625 3.238281 11.152344 3.257812 11.332031 3.414062 C 11.5 3.5625 11.566406 3.738281 11.585938 4.046875 C 11.589844 4.179688 11.585938 4.332031 11.574219 4.386719 L 11.550781 4.480469 L 11.214844 4.503906 C 8.734375 4.695312 6.742188 5.953125 5.914062 7.84375 C 5.265625 9.324219 5.53125 11.039062 6.597656 12.300781 C 6.824219 12.570312 7.167969 12.90625 7.351562 13.035156 C 7.410156 13.078125 7.460938 13.117188 7.460938 13.121094 C 7.460938 13.125 7.359375 13.179688 7.230469 13.238281 C 6.515625 13.582031 5.902344 14.085938 5.648438 14.535156 C 5.445312 14.898438 5.371094 15.320312 5.460938 15.632812 C 5.617188 16.203125 6.226562 16.734375 7.144531 17.109375 C 7.308594 17.175781 7.433594 17.230469 7.425781 17.234375 C 7.421875 17.238281 7.292969 17.285156 7.140625 17.339844 C 5.796875 17.804688 4.949219 18.566406 4.664062 19.566406 C 4.582031 19.851562 4.574219 20.457031 4.648438 20.691406 C 4.828125 21.277344 5.1875 21.757812 5.785156 22.230469 C 6.644531 22.902344 7.910156 23.375 9.476562 23.597656 C 10.308594 23.71875 10.734375 23.746094 11.914062 23.746094 C 12.980469 23.746094 13.308594 23.734375 14.046875 23.664062 C 14.910156 23.578125 15.722656 23.4375 16.425781 23.253906 C 18.523438 22.695312 19.863281 21.703125 20.296875 20.386719 C 20.414062 20.035156 20.433594 19.890625 20.433594 19.449219 C 20.433594 19.085938 20.421875 18.996094 20.371094 18.808594 C 20.210938 18.242188 19.941406 17.851562 19.417969 17.445312 C 18.839844 16.992188 18.0625 16.664062 17.011719 16.4375 C 15.882812 16.1875 14.839844 16.105469 12.277344 16.074219 C 10.996094 16.058594 10.128906 16.042969 9.957031 16.03125 C 9.875 16.027344 9.707031 16.019531 9.578125 16.011719 C 8.390625 15.945312 7.71875 15.707031 7.449219 15.261719 C 7.375 15.144531 7.367188 15.101562 7.367188 14.945312 C 7.367188 14.78125 7.375 14.753906 7.464844 14.609375 C 7.519531 14.523438 7.617188 14.40625 7.679688 14.347656 C 7.832031 14.210938 8.136719 14.023438 8.386719 13.914062 L 8.59375 13.824219 L 8.691406 13.871094 C 8.949219 13.996094 9.578125 14.21875 9.902344 14.300781 C 12.304688 14.929688 14.867188 14.4375 16.605469 13.019531 C 18.023438 11.859375 18.652344 10.246094 18.296875 8.664062 C 18.117188 7.855469 17.640625 7.050781 16.949219 6.378906 C 16.722656 6.15625 16.144531 5.714844 15.871094 5.550781 C 15.1875 5.144531 14.410156 4.835938 13.644531 4.660156 C 13.386719 4.601562 12.800781 4.511719 12.683594 4.511719 C 12.628906 4.511719 12.582031 4.503906 12.570312 4.492188 C 12.5625 4.480469 12.578125 4.363281 12.609375 4.234375 C 12.699219 3.8125 12.734375 3.5 12.734375 3.003906 C 12.730469 2.464844 12.691406 2.203125 12.558594 1.796875 C 12.273438 0.953125 11.609375 0.386719 10.734375 0.242188 C 10.574219 0.214844 10.175781 0.203125 10.050781 0.222656 Z M 12.519531 6.125 C 14.375 6.332031 15.828125 7.410156 16.210938 8.871094 C 16.265625 9.058594 16.273438 9.167969 16.273438 9.519531 C 16.273438 9.882812 16.265625 9.972656 16.210938 10.183594 C 15.96875 11.101562 15.3125 11.871094 14.34375 12.378906 C 13.535156 12.804688 12.53125 13.011719 11.59375 12.945312 C 10.949219 12.898438 10.546875 12.8125 9.96875 12.585938 C 8.765625 12.117188 7.933594 11.265625 7.640625 10.203125 C 7.5625 9.90625 7.554688 9.183594 7.632812 8.886719 C 8.003906 7.429688 9.464844 6.335938 11.308594 6.125 C 11.636719 6.089844 12.191406 6.085938 12.519531 6.125 Z M 9.394531 17.675781 C 9.945312 17.738281 10.980469 17.777344 12.8125 17.816406 C 14.164062 17.84375 14.667969 17.863281 15.253906 17.933594 C 15.9375 18.007812 16.398438 18.109375 16.84375 18.269531 C 17.6875 18.574219 18.121094 19.050781 18.121094 19.660156 C 18.121094 20.058594 17.925781 20.394531 17.492188 20.726562 C 16.746094 21.304688 15.425781 21.6875 13.632812 21.855469 C 13.140625 21.902344 11.339844 21.910156 10.894531 21.867188 C 9.703125 21.753906 8.859375 21.570312 8.21875 21.285156 C 7.699219 21.054688 7.308594 20.742188 7.121094 20.414062 C 6.972656 20.148438 6.929688 19.777344 7.015625 19.460938 C 7.191406 18.816406 7.855469 18.191406 8.832031 17.746094 C 8.953125 17.691406 9.066406 17.644531 9.082031 17.644531 C 9.097656 17.644531 9.238281 17.660156 9.394531 17.675781 Z M 9.394531 17.675781\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 11.617188 8.546875 C 11.261719 8.625 10.957031 8.828125 10.792969 9.101562 C 10.691406 9.261719 10.691406 9.269531 10.691406 9.527344 C 10.691406 9.792969 10.691406 9.792969 10.796875 9.960938 C 11.070312 10.394531 11.644531 10.617188 12.242188 10.519531 C 12.75 10.433594 13.160156 10.082031 13.238281 9.667969 C 13.328125 9.171875 12.929688 8.691406 12.320312 8.550781 C 12.144531 8.511719 11.792969 8.507812 11.617188 8.546875 Z M 11.617188 8.546875 \"})]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"span\",children:\"Log in\"})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(ValidatorForm,{ref:formRef,onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(Box,{mb:3,children:/*#__PURE__*/_jsx(TextValidator,{variant:\"outlined\",label:\"Username\",placeholder:\"Username\",color:\"primary\",value:username,onChange:handleUsernameChange,onKeyDown:preventSpace,type:\"username\",helperText:\"Username must be at least 6 characters\",\"aria-label\":\"Username\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(AccountCircleIcon,{})})},InputLabelProps:{shrink:true},validators:['enoughCharacters','usernameRe','alphaStartRe','required'],errorMessages:['Username must be at least 6 characters','Username can only contain letters, numbers and underscores','Username must start with a letter','Must enter a username'],fullWidth:true,required:true})}),/*#__PURE__*/_jsx(TextValidator,{variant:\"outlined\",label:\"Password\",placeholder:\"Password\",color:\"primary\",value:password,onChange:handlePasswordChange,onKeyPress:enterPress,type:\"password\",helperText:\"Password must be at least 6 characters\",\"aria-label\":\"Password\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(LockIcon,{})})},InputLabelProps:{shrink:true},validators:['enoughCharacters','required'],errorMessages:['Password must be at least 6 characters','Must enter a password'],fullWidth:true,required:true})]})})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",onClick:sendLoginData,\"aria-label\":\"Log in button\",children:\"Log in\"}),/*#__PURE__*/_jsx(Button,{className:classes.signUpBtn,variant:\"contained\",onClick:function onClick(){return history.push('/signup');},style:{marginLeft:'auto'},\"aria-label\":\"Sign up button\",children:\"Sign up\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{color:\"primary\",\"aria-label\":\"Forgot username or password button\",children:\"Forgot username or password?\"})})})]})]});}function mapStateToProps(state){return{user:state.userReducer.user,primary:state.userThemeReducer.primary};}export default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["c:/Users/bobma/Downloads/excite-app/src/components/Login.js"],"names":["React","useState","useRef","useEffect","useHistory","Card","CardContent","CardActions","Box","ValidatorForm","TextValidator","Typography","Button","axios","swal","Backdrop","CircularProgress","makeStyles","SvgIcon","AccountCircleIcon","LockIcon","InputAdornment","connect","useStyles","theme","root","textAlign","padding","spacing","card","maxWidth","margin","signUpBtn","backgroundColor","color","marginLeft","geoPrimary","geoSecondary","logoImg","width","height","Login","props","classes","history","username","setUsername","password","setPassword","open","setOpen","formRef","regularExpressions","usernameExpression","alphaStartRe","user","push","addValidationRule","value","length","test","charAt","handleUsernameChange","e","target","handlePasswordChange","enterPress","charCode","sendLoginData","preventSpace","keyCode","preventDefault","current","isFormValid","isValid","data","JSON","stringify","method","url","headers","then","response","dispatch","type","payload","profileTheme","catch","err","console","log","message","startAdornment","shrink","mapStateToProps","state","userReducer","primary","userThemeReducer"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Box from '@material-ui/core/Box';\r\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { connect } from 'react-redux';\r\n\r\n//Within the styles rgb(0, 20, 60) fits the logo design for blue and rgb(0, 73, 0) for green\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        textAlign: 'center',\r\n        padding: theme.spacing(2),\r\n    },\r\n    card: {\r\n        maxWidth: 450,\r\n        margin: 'auto',\r\n    },\r\n    signUpBtn: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        color: 'rgb(0, 32, 91)',\r\n        marginLeft: 'auto',\r\n    },\r\n    geoPrimary: {\r\n        color: 'rgb(0, 20, 60)',\r\n    },\r\n    geoSecondary: {\r\n        color: 'rgb(0, 73, 0)',\r\n    },\r\n    logoImg: {\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n}));\r\n\r\nfunction Login(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [open, setOpen] = useState(false);\r\n    const formRef = useRef(null);\r\n    const regularExpressions = {\r\n        usernameExpression: /^\\w+$/,\r\n        alphaStartRe: /^[A-Za-z]+$/,\r\n    }\r\n\r\n    useEffect(() => {\r\n        //If the user is logged in, return to the profile page. \r\n        if(props.user !== null) {\r\n            history.push('/profile');\r\n        }\r\n        //The validation rule below ensures a username and password have at least 6 characters.\r\n        ValidatorForm.addValidationRule('enoughCharacters', value => {\r\n            if(value.length < 6) {\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        //The validation rule below ensures that a username only containers letters, numbers and underscores.\r\n        ValidatorForm.addValidationRule('usernameRe', value => {\r\n            if(!regularExpressions.usernameExpression.test(value)) {\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        ValidatorForm.addValidationRule('alphaStartRe', value => {\r\n            if(!regularExpressions.alphaStartRe.test(value.charAt(0))) {\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }, []);\r\n\r\n    function handleUsernameChange(e) {\r\n        setUsername(e.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function enterPress(e) {\r\n        /*This function will handle an \"enter\" key press. If the user presses enter \r\n        while they are in the password TextField box, they will trigger the \r\n        sendLoginData function \r\n        */\r\n        if(e.charCode === 13) {\r\n            sendLoginData();\r\n        }\r\n    }\r\n\r\n    function preventSpace(e) {\r\n        //This function will prevent spaces when the user enters a username.\r\n        //It is triggered with an onKeyDown event.\r\n        if(e.keyCode === 32) {\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n    }\r\n\r\n    async function sendLoginData() {\r\n        //This function will handle sending the login data to the server with axios \r\n        \r\n        let isValid = await formRef.current.isFormValid();\r\n        if(!isValid) {\r\n            swal(\r\n                'Uh oh!',\r\n                'Make sure you filled out the log in form properly!',\r\n                'error',\r\n            );\r\n            return false;\r\n        }\r\n        if(username.length < 6) {\r\n            swal(\r\n                'Uh oh!',\r\n                'Username must be at least 6 characters long!',\r\n                'error',\r\n            );\r\n            setOpen(false);\r\n            return;\r\n        }\r\n        else if(password.length < 6) {\r\n            swal(\r\n                'Uh oh!',\r\n                'Password must be at least 6 characters long!',\r\n                'error',\r\n            );\r\n            setOpen(false);\r\n            return;\r\n        }\r\n        else {\r\n            let data = JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            });\r\n\r\n            return axios({\r\n                method: 'post',\r\n                data: data,\r\n                url: 'https://www.geocities.cc/api/login',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                }\r\n            }).then(response => {\r\n                if(response.data.user) {\r\n                    setOpen(false);\r\n                    props.dispatch({type: 'user/updateUser', payload: response.data.user});\r\n                    props.dispatch({type: 'ThemeChange', payload: response.data.user.profileTheme});\r\n                    swal(\r\n                        'Great!',\r\n                        'Successfully logged in',\r\n                        'success',\r\n                    );\r\n                    history.push('/profile');\r\n                }\r\n                else if(response.data === 'user not found') {\r\n                    setOpen(false);\r\n                    swal(\r\n                        'Uh oh!',\r\n                        'We could not find that username! Please try again. If you forgot your username, press the \"FORGOT USERNAME OR PASSWORD\" button below.',\r\n                        'error',\r\n                    );\r\n                }\r\n                else if(response.data === 'invalid password') {\r\n                    setOpen(false);\r\n                    swal(\r\n                        'Uh oh!',\r\n                        'That password was invalid. Please try again. If you forgot your password, press the \"FORGOT USERNAME OR PASSWORD\" button below.',\r\n                        'error',\r\n                    );\r\n                }\r\n            }).catch(err => {\r\n                setOpen(false);\r\n                console.log(err.message);\r\n                swal(\r\n                    'Uh oh!',\r\n                    'There was an error logging you in. Please try again!',\r\n                    'error',\r\n                )\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div \r\n            className={classes.root} \r\n        >\r\n            <Backdrop \r\n                open={open}\r\n            >\r\n                <Box>\r\n                    mb={10}\r\n                    <CircularProgress \r\n                        color='primary' \r\n                    />\r\n                </Box>\r\n                <Box \r\n                    mt={2} \r\n                >\r\n                    <Typography \r\n                        variant='body1'\r\n                        color='textSecondary' \r\n                        component='p' \r\n                    >\r\n                        Logging in\r\n                    </Typography>\r\n                </Box>\r\n            </Backdrop>\r\n            <Card \r\n                className={classes.card}\r\n                hidden={open}\r\n            >\r\n                <CardContent>\r\n                    <Box \r\n                        mb={4} \r\n                    >\r\n                        <Typography \r\n                            variant='h6'\r\n                            component='h6'\r\n                        >\r\n                            Welcome to <span className={classes.geoPrimary}>Geo</span><span className={classes.geoSecondary}>Cities</span>!\r\n                            <SvgIcon  \r\n                                style={{\r\n                                    color: 'rgb(0, 20, 60)',\r\n                                }}\r\n                            >\r\n                                <path d=\"M 10.050781 0.222656 C 9.261719 0.355469 8.6875 0.765625 8.472656 1.363281 C 8.402344 1.558594 8.394531 1.902344 8.449219 2.085938 C 8.621094 2.644531 9.289062 3.136719 9.988281 3.226562 C 10.082031 3.234375 10.347656 3.246094 10.574219 3.242188 C 11.0625 3.238281 11.152344 3.257812 11.332031 3.414062 C 11.5 3.5625 11.566406 3.738281 11.585938 4.046875 C 11.589844 4.179688 11.585938 4.332031 11.574219 4.386719 L 11.550781 4.480469 L 11.214844 4.503906 C 8.734375 4.695312 6.742188 5.953125 5.914062 7.84375 C 5.265625 9.324219 5.53125 11.039062 6.597656 12.300781 C 6.824219 12.570312 7.167969 12.90625 7.351562 13.035156 C 7.410156 13.078125 7.460938 13.117188 7.460938 13.121094 C 7.460938 13.125 7.359375 13.179688 7.230469 13.238281 C 6.515625 13.582031 5.902344 14.085938 5.648438 14.535156 C 5.445312 14.898438 5.371094 15.320312 5.460938 15.632812 C 5.617188 16.203125 6.226562 16.734375 7.144531 17.109375 C 7.308594 17.175781 7.433594 17.230469 7.425781 17.234375 C 7.421875 17.238281 7.292969 17.285156 7.140625 17.339844 C 5.796875 17.804688 4.949219 18.566406 4.664062 19.566406 C 4.582031 19.851562 4.574219 20.457031 4.648438 20.691406 C 4.828125 21.277344 5.1875 21.757812 5.785156 22.230469 C 6.644531 22.902344 7.910156 23.375 9.476562 23.597656 C 10.308594 23.71875 10.734375 23.746094 11.914062 23.746094 C 12.980469 23.746094 13.308594 23.734375 14.046875 23.664062 C 14.910156 23.578125 15.722656 23.4375 16.425781 23.253906 C 18.523438 22.695312 19.863281 21.703125 20.296875 20.386719 C 20.414062 20.035156 20.433594 19.890625 20.433594 19.449219 C 20.433594 19.085938 20.421875 18.996094 20.371094 18.808594 C 20.210938 18.242188 19.941406 17.851562 19.417969 17.445312 C 18.839844 16.992188 18.0625 16.664062 17.011719 16.4375 C 15.882812 16.1875 14.839844 16.105469 12.277344 16.074219 C 10.996094 16.058594 10.128906 16.042969 9.957031 16.03125 C 9.875 16.027344 9.707031 16.019531 9.578125 16.011719 C 8.390625 15.945312 7.71875 15.707031 7.449219 15.261719 C 7.375 15.144531 7.367188 15.101562 7.367188 14.945312 C 7.367188 14.78125 7.375 14.753906 7.464844 14.609375 C 7.519531 14.523438 7.617188 14.40625 7.679688 14.347656 C 7.832031 14.210938 8.136719 14.023438 8.386719 13.914062 L 8.59375 13.824219 L 8.691406 13.871094 C 8.949219 13.996094 9.578125 14.21875 9.902344 14.300781 C 12.304688 14.929688 14.867188 14.4375 16.605469 13.019531 C 18.023438 11.859375 18.652344 10.246094 18.296875 8.664062 C 18.117188 7.855469 17.640625 7.050781 16.949219 6.378906 C 16.722656 6.15625 16.144531 5.714844 15.871094 5.550781 C 15.1875 5.144531 14.410156 4.835938 13.644531 4.660156 C 13.386719 4.601562 12.800781 4.511719 12.683594 4.511719 C 12.628906 4.511719 12.582031 4.503906 12.570312 4.492188 C 12.5625 4.480469 12.578125 4.363281 12.609375 4.234375 C 12.699219 3.8125 12.734375 3.5 12.734375 3.003906 C 12.730469 2.464844 12.691406 2.203125 12.558594 1.796875 C 12.273438 0.953125 11.609375 0.386719 10.734375 0.242188 C 10.574219 0.214844 10.175781 0.203125 10.050781 0.222656 Z M 12.519531 6.125 C 14.375 6.332031 15.828125 7.410156 16.210938 8.871094 C 16.265625 9.058594 16.273438 9.167969 16.273438 9.519531 C 16.273438 9.882812 16.265625 9.972656 16.210938 10.183594 C 15.96875 11.101562 15.3125 11.871094 14.34375 12.378906 C 13.535156 12.804688 12.53125 13.011719 11.59375 12.945312 C 10.949219 12.898438 10.546875 12.8125 9.96875 12.585938 C 8.765625 12.117188 7.933594 11.265625 7.640625 10.203125 C 7.5625 9.90625 7.554688 9.183594 7.632812 8.886719 C 8.003906 7.429688 9.464844 6.335938 11.308594 6.125 C 11.636719 6.089844 12.191406 6.085938 12.519531 6.125 Z M 9.394531 17.675781 C 9.945312 17.738281 10.980469 17.777344 12.8125 17.816406 C 14.164062 17.84375 14.667969 17.863281 15.253906 17.933594 C 15.9375 18.007812 16.398438 18.109375 16.84375 18.269531 C 17.6875 18.574219 18.121094 19.050781 18.121094 19.660156 C 18.121094 20.058594 17.925781 20.394531 17.492188 20.726562 C 16.746094 21.304688 15.425781 21.6875 13.632812 21.855469 C 13.140625 21.902344 11.339844 21.910156 10.894531 21.867188 C 9.703125 21.753906 8.859375 21.570312 8.21875 21.285156 C 7.699219 21.054688 7.308594 20.742188 7.121094 20.414062 C 6.972656 20.148438 6.929688 19.777344 7.015625 19.460938 C 7.191406 18.816406 7.855469 18.191406 8.832031 17.746094 C 8.953125 17.691406 9.066406 17.644531 9.082031 17.644531 C 9.097656 17.644531 9.238281 17.660156 9.394531 17.675781 Z M 9.394531 17.675781\" />\r\n                                <path d=\"M 11.617188 8.546875 C 11.261719 8.625 10.957031 8.828125 10.792969 9.101562 C 10.691406 9.261719 10.691406 9.269531 10.691406 9.527344 C 10.691406 9.792969 10.691406 9.792969 10.796875 9.960938 C 11.070312 10.394531 11.644531 10.617188 12.242188 10.519531 C 12.75 10.433594 13.160156 10.082031 13.238281 9.667969 C 13.328125 9.171875 12.929688 8.691406 12.320312 8.550781 C 12.144531 8.511719 11.792969 8.507812 11.617188 8.546875 Z M 11.617188 8.546875 \"/>\r\n                            </SvgIcon>\r\n                        </Typography>\r\n                        <Typography \r\n                            variant='subtitle1' \r\n                            component='span' \r\n                        >\r\n                            Log in \r\n                        </Typography>\r\n                    </Box>\r\n                    <Box>\r\n                        <ValidatorForm \r\n                            ref={formRef}\r\n                            onSubmit={e => e.preventDefault()}\r\n                        >\r\n                            <Box \r\n                                mb={3}\r\n                            >\r\n                                <TextValidator\r\n                                    variant='outlined' \r\n                                    label='Username'\r\n                                    placeholder='Username'\r\n                                    color='primary'\r\n                                    value={username}\r\n                                    onChange={handleUsernameChange}\r\n                                    onKeyDown={preventSpace}\r\n                                    type='username'\r\n                                    helperText='Username must be at least 6 characters'\r\n                                    aria-label='Username' \r\n                                    InputProps={{\r\n                                        startAdornment: (\r\n                                            <InputAdornment \r\n                                                position='start' \r\n                                            >\r\n                                                <AccountCircleIcon />\r\n                                            </InputAdornment>\r\n                                        )\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    validators={['enoughCharacters', 'usernameRe', 'alphaStartRe', 'required']}\r\n                                    errorMessages={['Username must be at least 6 characters', 'Username can only contain letters, numbers and underscores', 'Username must start with a letter', 'Must enter a username']}\r\n                                    fullWidth\r\n                                    required\r\n                                />\r\n                            </Box>\r\n                            <TextValidator\r\n                                variant='outlined' \r\n                                label='Password'\r\n                                placeholder='Password'\r\n                                color='primary'\r\n                                value={password} \r\n                                onChange={handlePasswordChange}\r\n                                onKeyPress={enterPress}\r\n                                type='password' \r\n                                helperText='Password must be at least 6 characters'\r\n                                aria-label='Password' \r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment \r\n                                            position='start' \r\n                                        >\r\n                                            <LockIcon />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                                InputLabelProps={{\r\n                                    shrink: true,\r\n                                }}\r\n                                validators={['enoughCharacters', 'required']}\r\n                                errorMessages={['Password must be at least 6 characters', 'Must enter a password']}\r\n                                fullWidth \r\n                                required\r\n                            />\r\n                        </ValidatorForm>\r\n                    </Box>\r\n                </CardContent>\r\n                <CardActions>\r\n                    <Button \r\n                        color='primary' \r\n                        variant='contained' \r\n                        onClick={sendLoginData}\r\n                        aria-label='Log in button'\r\n                    >\r\n                        Log in \r\n                    </Button>\r\n                    <Button \r\n                        className={classes.signUpBtn} \r\n                        variant='contained' \r\n                        onClick={() => history.push('/signup')}\r\n                        style={{\r\n                            marginLeft: 'auto',\r\n                        }}\r\n                        aria-label='Sign up button'\r\n                    >\r\n                        Sign up\r\n                    </Button>\r\n                </CardActions>\r\n                <CardContent>\r\n                    <Box>\r\n                        <Button \r\n                            color='primary' \r\n                            aria-label='Forgot username or password button'\r\n                        >\r\n                            Forgot username or password?\r\n                        </Button>\r\n                    </Box>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userReducer.user,\r\n        primary: state.userThemeReducer.primary,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Login);"]},"metadata":{},"sourceType":"module"}